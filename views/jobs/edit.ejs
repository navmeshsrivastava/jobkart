<link rel="stylesheet" href="/css/jobs/edit.css">

<div class="row justify-content-center">
  <div class="col-11 col-sm-10 col-md-8 col-lg-6 mt-4 mb-4">
    <div class="edit-job-container">
      <h3 class="text-center mb-4">
        <i class="fa-solid fa-pen-to-square me-2"></i>Edit Job
      </h3>

      <form action="/job/<%= job._id %>?_method=PUT" method="POST" novalidate class="needs-validation"
        enctype="application/x-www-form-urlencoded">

        <div class="mb-3">
          <label for="status" class="form-label"><i class="fa-solid fa-toggle-on me-2"></i>Status</label>
          <select name="job[status]" class="form-select" required>
            <option value="hiring" <%=job.status==="hiring" ? "selected" : "" %>>Hiring</option>
            <option value="closed" <%=job.status==="closed" ? "selected" : "" %>>Closed</option>
          </select>
        </div>

        <div class="mb-3">
          <label for="role" class="form-label"><i class="fa-solid fa-briefcase me-2"></i>Role</label>
          <input name="job[role]" value="<%= job.role %>" type="text" class="form-control" required>
          <div class="invalid-feedback">Define job role</div>
        </div>

        <div class="mb-3">
          <label for="company" class="form-label"><i class="fa-solid fa-building me-2"></i>Company</label>
          <input name="job[company]" value="<%= job.company %>" type="text" class="form-control" required>
          <div class="invalid-feedback">Enter company name</div>
        </div>

        <div class="mb-3">
          <label for="description" class="form-label"><i class="fa-solid fa-align-left me-2"></i>Description</label>
          <textarea name="job[description]" rows="6" class="form-control" required><%= job.description %></textarea>
          <div class="invalid-feedback">Please enter a short description.</div>
        </div>

        <div class="row">
          <div class="mb-3 col-md-4">
            <label for="salary" class="form-label"><i class="fa-solid fa-indian-rupee-sign me-2"></i>Salary</label>
            <input name="job[salary]" value="<%= job.salary %>" type="text" class="form-control" required>
            <div class="invalid-feedback">Salary can't be empty</div>
          </div>

          <div class="mb-3 col-md-8">
            <label for="location" class="form-label"><i class="fa-solid fa-location-dot me-2"></i>Location</label>
            <input name="job[location]" value="<%= job.location %>" type="text" class="form-control" required>
            <div class="invalid-feedback">Enter job location</div>
          </div>
        </div>

        <div class="mb-3">
          <label for="category" class="form-label"><i class="fa-solid fa-layer-group me-2"></i>Category</label>
          <select name="job[category]" class="form-select" required>
            <option value="job" <%=job.category==="job" ? "selected" : "" %>>Job</option>
            <option value="internship" <%=job.category==="internship" ? "selected" : "" %>>Internship</option>
          </select>
          <div class="invalid-feedback">Categorise your job</div>
        </div>

        <button class="update-btn d-block mx-auto mt-4 w-50">
          <i class="fa-solid fa-check-circle me-2"></i>Update Job
        </button>
      </form>
    </div>
  </div>
</div> 